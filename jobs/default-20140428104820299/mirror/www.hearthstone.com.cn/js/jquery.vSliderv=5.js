var QL=QL||{};!function(a){function b(b,c){var d,e=this,f=b.find("."+c.picClass),g=b.find("."+c.numClass+" li"),h=b.find("."+c.txtClass+" li"),i=c.speed,j=!1;a.extend(this,{picInit:function(){f.css("height",e.getPic().TH+"px")},getPic:function(){var a=f.find("img").height(),b=f.find("li").length,c=a*b,d={H:a,L:b,TH:c};return d},picMove:function(a,b){j||(e.focusMove(b),e.txtMove(b),j=!0,f.animate({top:a+"px"},1e3,"easeOutExpo",function(){j=!1}))},txtMove:function(a){h.eq(a).addClass("active").siblings().removeClass("active")},focusMove:function(a){g.eq(a).addClass("active").siblings().removeClass("active")},moveFun:function(){var a=parseInt(f.css("top")),b=e.getPic().TH,c=e.getPic().H,d=a-c;Math.abs(a)==b-c&&(d=0);var g=Math.abs(a)/c;g++,g==e.getPic().L?g=0:"",e.picMove(d,g)},auto:function(){d=setInterval(e.moveFun,i)},stopAuto:function(){clearInterval(d)}}),g.hover(function(){var b=a(this),c=g.index(b),d=e.getPic().H;e.picInit(d);var h=-(d*c);f.stop(!0,!0),e.picMove(h,c),e.stopAuto(),g.find(".eye_small_f").hide(),b.find(".eye_small_f").show()},function(){c.auto&&e.auto();var b=a(this);b.find(".eye_small_f").hide()}),f.hover(function(){e.stopAuto()},function(){c.auto&&e.auto()}),h.hover(function(){e.stopAuto()},function(){c.auto&&e.auto()}),this.picInit(),c.auto&&e.auto()}QL.focusSlider={defaults:{picClass:"eye_pic",numClass:"eye_small",txtClass:"eye_link",auto:!0,speed:3e3}},a.fn.focusSlider=function(c){return c=a.extend({},QL.focusSlider.defaults,c),this.each(function(){el=new b(a(this),c)})}}(jQuery);