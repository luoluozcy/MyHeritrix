!function(a){function b(b,c){var d,e,f=this,g=b,h=a("#"+c.imgWrapId),i=g.find("."+c.prevClass),j=g.find("."+c.nextClass),k=g.find("."+c.numClass).children(),l=c.showPic,m=c.speed,n=!1;a.extend(this,{getScroll:function(){var a=h.children(),b=a.eq(0),d=b.outerWidth()+parseInt(b.css("margin-left"))+parseInt(b.css("margin-right")),f=d*c.step,g=a.length,i=parseInt(d)*g,j=Math.abs(parseInt(h.css("margin-left"))),k=Math.floor(g%c.step);0!=k&&(l=k);var m=i-d*l;e=j/f;var n={prevScrollRange:f,nextScrollRange:f,numRange:f,index:e};return l>=g?(n.prevRun=!1,n.nextRun=!1,n):(0==j?(n.prevRun=!1,n.nextRun=!0,c.btnActive&&(n.prevRun=!0,n.prevScrollRange=-m)):j==m?(n.prevRun=!0,n.nextRun=!1,c.btnActive&&(n.nextRun=!0,n.nextScrollRange=-m)):(n.prevRun=!0,n.nextRun=!0),n)},scrollAnimate:function(a,b){if(!n){n=!0;var d="";if(d="prev"==a?"+=":"-=",b+="px",c.showNum){var g=k.length;"prev"==a?(e=f.getScroll().index,0==e?e=g-1:e--):"next"==a?(e=f.getScroll().index,e==g-1?e=0:e++):d="-",f.scrollNum(e)}setTimeout(function(){h.animate({"margin-left":d+b},m,"easeOutExpo",function(){n=!1;var a=f.getScroll().index,b=h.children().length;c.isShowControl||(0==a?(i.hide(),j.show()):a==b-l?(i.show(),j.hide()):(i.show(),j.show()))})},100)}},scrollNum:function(a){k.eq(a).addClass("active").siblings().removeClass("active")},scrollRun:function(){i.click(function(){var a=f.getScroll();return a.prevRun&&f.scrollAnimate("prev",a.prevScrollRange),c.prevCallback(),!1}),j.click(function(){var a=f.getScroll();return a.nextRun&&f.scrollAnimate("next",a.nextScrollRange),c.nextCallback(),!1}),c.showNum&&k.click(function(){var b=f.getScroll();e=k.index(a(this));var c=b.numRange*e;return f.scrollAnimate("num",c),!1})},auto:function(){d=setInterval(function(){var a=f.getScroll();f.scrollAnimate("next",a.nextScrollRange)},3e3)},stopAuto:function(){clearInterval(d)},init:function(){c.auto&&(f.auto(),i.hover(function(){f.stopAuto()},function(){f.auto()}),j.hover(function(){f.stopAuto()},function(){f.auto()}),h.hover(function(){f.stopAuto()},function(){f.auto()}),k.hover(function(){f.stopAuto()},function(){f.auto()})),this.scrollRun()}}),f.init()}var c={defaults:{showPic:4,step:1,btnActive:!0,auto:!1,showNum:!1,numClass:"newerNum",prevClass:"prev",nextClass:"next",imgWrapId:"imgList",isShowControl:!0,speed:500,prevCallback:function(){},nextCallback:function(){}}};a.fn.imageScroll=function(d){return d=a.extend({},c.defaults,d),this.each(function(){el=new b(a(this),d)})},a.sc2=a.sc2||{},a.sc2.imageScroll=function(d){d=a.extend({},c.defaults,d),new b(d)}}(jQuery);